--[[
    Erafox: Advanced Game Scanner v2.0
    –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º –∏ –º–æ–±–∏–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
]]

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local HttpService = game:GetService("HttpService")
local LocalPlayer = Players.LocalPlayer

-- –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π GUI –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
if game.CoreGui:FindFirstChild("ErafoxScanner") then
    game.CoreGui.ErafoxScanner:Destroy()
end

-- ==================== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ====================
local Config = {
    AutoRefresh = false,
    RefreshInterval = 10,
    DeepScan = true,
    LogToConsole = true,
    SaveToFile = false,
    ShowWarnings = true
}

-- ==================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ====================
local ScannerData = {}
local ScanHistory = {}
local RemoteCache = {}
local LastScanTime = 0

-- ==================== –ü–û–õ–ï–ó–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
function formatMemory(bytes)
    if bytes < 1024 then
        return string.format("%d B", bytes)
    elseif bytes < 1024 * 1024 then
        return string.format("%.1f KB", bytes / 1024)
    else
        return string.format("%.1f MB", bytes / (1024 * 1024))
    end
end

function getObjectType(obj)
    if obj:IsA("RemoteEvent") then return "üì° RemoteEvent"
    elseif obj:IsA("RemoteFunction") then return "üîß RemoteFunction"
    elseif obj:IsA("BindableEvent") then return "üîó BindableEvent"
    elseif obj:IsA("ModuleScript") then return "üì¶ ModuleScript"
    elseif obj:IsA("Script") then return "üìú Script"
    elseif obj:IsA("LocalScript") then return "üì± LocalScript"
    elseif obj:IsA("Folder") then return "üìÅ Folder"
    else return "‚ùì " .. obj.ClassName end
end

function getRelevantNames()
    return {
        "parry", "block", "hit", "deflect", "ball", "phantom", "dodge", 
        "shield", "attack", "ability", "skill", "power", "damage", "health",
        "game", "round", "match", "player", "score", "win", "lose"
    }
end

function isRelevantObject(obj)
    local nameLower = obj.Name:lower()
    for _, keyword in pairs(getRelevantNames()) do
        if nameLower:find(keyword) then
            return true
        end
    end
    return false
end

-- ==================== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò –°–ö–ê–ù–ò–†–û–í–ê–ù–ò–Ø ====================
function scanRemotes()
    local remotes = {
        Events = {},
        Functions = {},
        Bindables = {}
    }
    
    for _, obj in pairs(game:GetDescendants()) do
        if obj:IsA("RemoteEvent") then
            table.insert(remotes.Events, {
                Name = obj.Name,
                Path = obj:GetFullName(),
                Parent = obj.Parent.Name,
                Class = "RemoteEvent"
            })
        elseif obj:IsA("RemoteFunction") then
            table.insert(remotes.Functions, {
                Name = obj.Name,
                Path = obj:GetFullName(),
                Parent = obj.Parent.Name,
                Class = "RemoteFunction"
            })
        elseif obj:IsA("BindableEvent") then
            table.insert(remotes.Bindables, {
                Name = obj.Name,
                Path = obj:GetFullName(),
                Parent = obj.Parent.Name,
                Class = "BindableEvent"
            })
        end
    end
    
    return remotes
end

function scanGameObjects()
    local objects = {
        Balls = {},
        Players = {},
        Important = {}
    }
    
    -- –°–∫–∞–Ω–∏—Ä—É–µ–º —à–∞—Ä—ã
    for _, obj in pairs(Workspace:GetDescendants()) do
        local nameLower = obj.Name:lower()
        if nameLower:find("ball") or nameLower:find("sphere") or nameLower:find("orb") then
            table.insert(objects.Balls, {
                Name = obj.Name,
                Class = obj.ClassName,
                Position = obj:IsA("BasePart") and tostring(obj.Position) or "N/A",
                Size = obj:IsA("BasePart") and tostring(obj.Size) or "N/A",
                Path = obj:GetFullName()
            })
        end
    end
    
    -- –°–∫–∞–Ω–∏—Ä—É–µ–º –∏–≥—Ä–æ–∫–æ–≤
    for _, player in pairs(Players:GetPlayers()) do
        if player.Character then
            table.insert(objects.Players, {
                Name = player.Name,
                Health = player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health or 0,
                Position = player.Character:FindFirstChild("HumanoidRootPart") and 
                           tostring(player.Character.HumanoidRootPart.Position) or "N/A"
            })
        end
    end
    
    -- –°–∫–∞–Ω–∏—Ä—É–µ–º –≤–∞–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
    for _, obj in pairs(game:GetDescendants()) do
        if isRelevantObject(obj) then
            table.insert(objects.Important, {
                Name = obj.Name,
                Class = obj.ClassName,
                Path = obj:GetFullName(),
                Type = getObjectType(obj)
            })
        end
    end
    
    return objects
end

function scanGUIElements()
    local guiElements = {
        Buttons = {},
        Frames = {},
        Labels = {}
    }
    
    if LocalPlayer:FindFirstChild("PlayerGui") then
        for _, gui in pairs(LocalPlayer.PlayerGui:GetDescendants()) do
            if gui:IsA("TextButton") or gui:IsA("ImageButton") then
                table.insert(guiElements.Buttons, {
                    Name = gui.Name,
                    Text = gui:IsA("TextButton") and gui.Text or "N/A",
                    Visible = gui.Visible,
                    Parent = gui.Parent.Name
                })
            elseif gui:IsA("Frame") then
                table.insert(guiElements.Frames, {
                    Name = gui.Name,
                    Visible = gui.Visible,
                    Size = tostring(gui.AbsoluteSize),
                    Parent = gui.Parent.Name
                })
            elseif gui:IsA("TextLabel") then
                table.insert(guiElements.Labels, {
                    Name = gui.Name,
                    Text = gui.Text,
                    Visible = gui.Visible,
                    Parent = gui.Parent.Name
                })
            end
        end
    end
    
    return guiElements
end

function scanModules()
    local modules = {}
    
    for _, obj in pairs(game:GetDescendants()) do
        if obj:IsA("ModuleScript") then
            if isRelevantObject(obj) or Config.DeepScan then
                table.insert(modules, {
                    Name = obj.Name,
                    Path = obj:GetFullName(),
                    Parent = obj.Parent.Name
                })
            end
        end
    end
    
    return modules
end

function getGameStats()
    local stats = game:GetService("Stats")
    
    return {
        Ping = stats.Network.ServerStatsItem["Data Ping"]:GetValueString(),
        FPS = math.floor(Workspace:GetRealPhysicsFPS()),
        Memory = formatMemory(stats:GetTotalMemoryUsageMb() * 1024 * 1024),
        Players = #Players:GetPlayers(),
        Objects = #game:GetDescendants(),
        Time = os.date("%H:%M:%S")
    }
end

-- ==================== –û–°–ù–û–í–ù–û–ï –°–ö–ê–ù–ò–†–û–í–ê–ù–ò–ï ====================
function performScan()
    LastScanTime = tick()
    
    ScannerData = {
        Remotes = scanRemotes(),
        Objects = scanGameObjects(),
        GUI = scanGUIElements(),
        Modules = scanModules(),
        Stats = getGameStats(),
        Timestamp = os.date("%Y-%m-%d %H:%M:%S"),
        GameName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
    }
    
    -- –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
    table.insert(ScanHistory, {
        Time = ScannerData.Timestamp,
        Data = ScannerData
    })
    
    -- –õ–æ–≥–∏—Ä—É–µ–º –≤ –∫–æ–Ω—Å–æ–ª—å
    if Config.LogToConsole then
        print("[Erafox] –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")
        print("–ù–∞–π–¥–µ–Ω–æ RemoteEvents:", #ScannerData.Remotes.Events)
        print("–ù–∞–π–¥–µ–Ω–æ —à–∞—Ä–æ–≤:", #ScannerData.Objects.Balls)
        print("–ò–≥—Ä–æ–∫–æ–≤ –æ–Ω–ª–∞–π–Ω:", ScannerData.Stats.Players)
    end
    
    -- –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Ñ–∞–π–ª –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
    if Config.SaveToFile then
        saveScanToFile()
    end
    
    return ScannerData
end

function saveScanToFile()
    if not isfolder("ErafoxScans") then
        makefolder("ErafoxScans")
    end
    
    local filename = "ErafoxScans/scan_" .. os.date("%Y%m%d_%H%M%S") .. ".json"
    local jsonData = HttpService:JSONEncode(ScannerData)
    
    writefile(filename, jsonData)
    print("[Erafox] –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤:", filename)
end

-- ==================== –°–û–ó–î–ê–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ====================
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ErafoxScanner"
ScreenGui.Parent = game.CoreGui
ScreenGui.ResetOnSpawn = false

-- –û—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ
local MainWindow = Instance.new("Frame")
MainWindow.Name = "MainWindow"
MainWindow.Size = UDim2.new(0, 400, 0, 550)
MainWindow.Position = UDim2.new(0.5, -200, 0.5, -275)
MainWindow.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
MainWindow.BorderSizePixel = 0
MainWindow.Active = true
MainWindow.Draggable = true
MainWindow.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 8)
UICorner.Parent = MainWindow

-- –ó–∞–≥–æ–ª–æ–≤–æ–∫
local TitleBar = Instance.new("Frame")
TitleBar.Name = "TitleBar"
TitleBar.Size = UDim2.new(1, 0, 0, 40)
TitleBar.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
TitleBar.Parent = MainWindow

local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Size = UDim2.new(1, -80, 1, 0)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.Text = "üîç ERAFOX SCANNER v2.0"
Title.TextColor3 = Color3.fromRGB(0, 255, 200)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = TitleBar

local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -35, 0.5, -15)
CloseButton.Text = "‚úï"
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
CloseButton.TextColor3 = Color3.new(1, 1, 1)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 14
CloseButton.Parent = TitleBar

CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- –í–∫–ª–∞–¥–∫–∏
local TabContainer = Instance.new("Frame")
TabContainer.Name = "TabContainer"
TabContainer.Size = UDim2.new(1, -20, 0, 30)
TabContainer.Position = UDim2.new(0, 10, 0, 50)
TabContainer.BackgroundTransparency = 1
TabContainer.Parent = MainWindow

local Tabs = {"üìä –û–±–∑–æ—Ä", "üì° Remotes", "‚öΩ –û–±—ä–µ–∫—Ç—ã", "üéÆ GUI", "üì¶ –ú–æ–¥—É–ª–∏", "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏"}
local CurrentTab = "üìä –û–±–∑–æ—Ä"

local function createTabButton(text, xPos)
    local btn = Instance.new("TextButton")
    btn.Text = text
    btn.Size = UDim2.new(0, 60, 1, 0)
    btn.Position = UDim2.new(0, xPos, 0, 0)
    btn.BackgroundColor3 = text == CurrentTab and Color3.fromRGB(0, 150, 255) or Color3.fromRGB(50, 50, 70)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Font = Enum.Font.Gotham
    btn.TextSize = 12
    btn.Parent = TabContainer
    
    btn.MouseButton1Click:Connect(function()
        CurrentTab = text
        updateDisplay()
    end)
    
    return btn
end

for i, tabName in ipairs(Tabs) do
    createTabButton(tabName, (i-1) * 65)
end

-- –û—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–≤–æ–¥–∞
local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Size = UDim2.new(1, -20, 1, -140)
ContentFrame.Position = UDim2.new(0, 10, 0, 90)
ContentFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
ContentFrame.Parent = MainWindow

local ContentUICorner = Instance.new("UICorner")
ContentUICorner.CornerRadius = UDim.new(0, 6)
ContentUICorner.Parent = ContentFrame

local OutputScroller = Instance.new("ScrollingFrame")
OutputScroller.Name = "OutputScroller"
OutputScroller.Size = UDim2.new(1, -10, 1, -10)
OutputScroller.Position = UDim2.new(0, 5, 0, 5)
OutputScroller.BackgroundTransparency = 1
OutputScroller.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)
OutputScroller.ScrollBarThickness = 6
OutputScroller.Parent = ContentFrame

local OutputText = Instance.new("TextLabel")
OutputText.Name = "OutputText"
OutputText.Size = UDim2.new(1, 0, 0, 0)
OutputText.Text = "–ù–∞–∂–º–∏ SCAN –¥–ª—è –Ω–∞—á–∞–ª–∞ –∞–Ω–∞–ª–∏–∑–∞"
OutputText.TextColor3 = Color3.fromRGB(200, 200, 200)
OutputText.BackgroundTransparency = 1
OutputText.Font = Enum.Font.Gotham
OutputText.TextSize = 12
OutputText.TextXAlignment = Enum.TextXAlignment.Left
OutputText.TextYAlignment = Enum.TextYAlignment.Top
OutputText.TextWrapped = true
OutputText.Parent = OutputScroller

-- –ü–∞–Ω–µ–ª—å –∫–Ω–æ–ø–æ–∫
local ButtonPanel = Instance.new("Frame")
ButtonPanel.Name = "ButtonPanel"
ButtonPanel.Size = UDim2.new(1, -20, 0, 40)
ButtonPanel.Position = UDim2.new(0, 10, 1, -50)
ButtonPanel.BackgroundTransparency = 1
ButtonPanel.Parent = MainWindow

local ScanButton = Instance.new("TextButton")
ScanButton.Name = "ScanButton"
ScanButton.Size = UDim2.new(0.4, 0, 1, 0)
ScanButton.Text = "üîç SCAN NOW"
ScanButton.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
ScanButton.TextColor3 = Color3.new(1, 1, 1)
ScanButton.Font = Enum.Font.GothamBold
ScanButton.TextSize = 14
ScanButton.Parent = ButtonPanel

local CopyButton = Instance.new("TextButton")
CopyButton.Name = "CopyButton"
CopyButton.Size = UDim2.new(0.4, 0, 1, 0)
CopyButton.Position = UDim2.new(0.6, 0, 0, 0)
CopyButton.Text = "üìã COPY DATA"
CopyButton.BackgroundColor3 = Color3.fromRGB(80, 180, 80)
CopyButton.TextColor3 = Color3.new(1, 1, 1)
CopyButton.Font = Enum.Font.GothamBold
CopyButton.TextSize = 14
CopyButton.Parent = ButtonPanel

-- –°—Ç–∞—Ç—É—Å –±–∞—Ä
local StatusBar = Instance.new("Frame")
StatusBar.Name = "StatusBar"
StatusBar.Size = UDim2.new(1, -20, 0, 20)
StatusBar.Position = UDim2.new(0, 10, 1, -25)
StatusBar.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
StatusBar.Parent = MainWindow

local StatusText = Instance.new("TextLabel")
StatusText.Name = "StatusText"
StatusText.Size = UDim2.new(1, -10, 1, 0)
StatusText.Position = UDim2.new(0, 5, 0, 0)
StatusText.Text = "–ì–æ—Ç–æ–≤ –∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é"
StatusText.TextColor3 = Color3.fromRGB(0, 255, 0)
StatusText.BackgroundTransparency = 1
StatusText.Font = Enum.Font.Gotham
StatusText.TextSize = 11
StatusText.TextXAlignment = Enum.TextXAlignment.Left
StatusText.Parent = StatusBar

-- ==================== –§–£–ù–ö–¶–ò–ò –û–ë–ù–û–í–õ–ï–ù–ò–Ø –ò–ù–¢–ï–†–§–ï–ô–°–ê ====================
function updateDisplay()
    if not ScannerData or not ScannerData.Stats then
        OutputText.Text = "–î–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ–±—Ä–∞–Ω—ã. –ù–∞–∂–º–∏—Ç–µ SCAN."
        return
    end
    
    local content = ""
    
    if CurrentTab == "üìä –û–±–∑–æ—Ä" then
        content = content .. "=== –û–ë–ó–û–† –ò–ì–†–´ ===\n\n"
        content = content .. "üéÆ –ò–≥—Ä–∞: " .. ScannerData.GameName .. "\n"
        content = content .. "‚è∞ –í—Ä–µ–º—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: " .. ScannerData.Timestamp .. "\n"
        content = content .. "üë• –ò–≥—Ä–æ–∫–æ–≤ –æ–Ω–ª–∞–π–Ω: " .. ScannerData.Stats.Players .. "\n"
        content = content .. "üì° Ping: " .. ScannerData.Stats.Ping .. "\n"
        content = content .. "üéØ FPS: " .. ScannerData.Stats.FPS .. "\n"
        content = content .. "üíæ –ü–∞–º—è—Ç—å: " .. ScannerData.Stats.Memory .. "\n"
        content = content .. "üìä –í—Å–µ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤: " .. ScannerData.Stats.Objects .. "\n\n"
        
        content = content .. "=== –ù–ê–ô–î–ï–ù–û ===\n"
        content = content .. "üì° RemoteEvents: " .. #ScannerData.Remotes.Events .. "\n"
        content = content .. "üîß RemoteFunctions: " .. #ScannerData.Remotes.Functions .. "\n"
        content = content .. "‚öΩ –®–∞—Ä–æ–≤: " .. #ScannerData.Objects.Balls .. "\n"
        content = content .. "üéÆ GUI —ç–ª–µ–º–µ–Ω—Ç–æ–≤: " .. (#ScannerData.GUI.Buttons + #ScannerData.GUI.Frames) .. "\n"
        content = content .. "üì¶ –ú–æ–¥—É–ª–µ–π: " .. #ScannerData.Modules .. "\n"
        
    elseif CurrentTab == "üì° Remotes" then
        content = content .. "=== REMOTE EVENTS ===\n\n"
        for _, remote in ipairs(ScannerData.Remotes.Events) do
            content = content .. "üì° " .. remote.Name .. "\n"
            content = content .. "   –ü—É—Ç—å: " .. remote.Path .. "\n"
        end
        
        content = content .. "\n=== REMOTE FUNCTIONS ===\n\n"
        for _, func in ipairs(ScannerData.Remotes.Functions) do
            content = content .. "üîß " .. func.Name .. "\n"
            content = content .. "   –ü—É—Ç—å: " .. func.Path .. "\n"
        end
        
        content = content .. "\n=== BINDABLE EVENTS ===\n\n"
        for _, bindable in ipairs(ScannerData.Remotes.Bindables) do
            content = content .. "üîó " .. bindable.Name .. "\n"
            content = content .. "   –ü—É—Ç—å: " .. bindable.Path .. "\n"
        end
        
    elseif CurrentTab == "‚öΩ –û–±—ä–µ–∫—Ç—ã" then
        content = content .. "=== –®–ê–†–´ –í WORKSPACE ===\n\n"
        for _, ball in ipairs(ScannerData.Objects.Balls) do
            content = content .. "‚öΩ " .. ball.Name .. " (" .. ball.Class .. ")\n"
            content = content .. "   –ü–æ–∑–∏—Ü–∏—è: " .. ball.Position .. "\n"
            content = content .. "   –†–∞–∑–º–µ—Ä: " .. ball.Size .. "\n"
            content = content .. "   –ü—É—Ç—å: " .. ball.Path .. "\n\n"
        end
        
        content = content .. "=== –í–ê–ñ–ù–´–ï –û–ë–™–ï–ö–¢–´ ===\n\n"
        for _, obj in ipairs(ScannerData.Objects.Important) do
            content = content .. obj.Type .. " " .. obj.Name .. "\n"
            content = content .. "   –ü—É—Ç—å: " .. obj.Path .. "\n\n"
        end
        
    elseif CurrentTab == "üéÆ GUI" then
        content = content .. "=== –ö–ù–û–ü–ö–ò GUI ===\n\n"
        for _, btn in ipairs(ScannerData.GUI.Buttons) do
            content = content .. "üîò " .. btn.Name .. "\n"
            content = content .. "   –¢–µ–∫—Å—Ç: " .. (btn.Text or "N/A") .. "\n"
            content = content .. "   –í–∏–¥–∏–º–æ—Å—Ç—å: " .. (btn.Visible and "–î–∞" or "–ù–µ—Ç") .. "\n\n"
        end
        
    elseif CurrentTab == "üì¶ –ú–æ–¥—É–ª–∏" then
        content = content .. "=== –ú–û–î–£–õ–¨–ù–´–ï –°–ö–†–ò–ü–¢–´ ===\n\n"
        for _, module in ipairs(ScannerData.Modules) do
            content = content .. "üì¶ " .. module.Name .. "\n"
            content = content .. "   –ü—É—Ç—å: " .. module.Path .. "\n\n"
        end
        
    elseif CurrentTab == "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏" then
        content = content .. "=== –ù–ê–°–¢–†–û–ô–ö–ò –°–ö–ê–ù–ï–†–ê ===\n\n"
        content = content .. "–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: " .. (Config.AutoRefresh and "–í–ö–õ" or "–í–´–ö–õ") .. "\n"
        content = content .. "–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: " .. Config.RefreshInterval .. " —Å–µ–∫\n"
        content = content .. "–ì–ª—É–±–æ–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: " .. (Config.DeepScan and "–í–ö–õ" or "–í–´–ö–õ") .. "\n"
        content = content .. "–õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å: " .. (Config.LogToConsole and "–í–ö–õ" or "–í–´–ö–õ") .. "\n"
        content = content .. "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª: " .. (Config.SaveToFile and "–í–ö–õ" or "–í–´–ö–õ") .. "\n"
    end
    
    OutputText.Text = content
    OutputText.Size = UDim2.new(1, 0, 0, OutputText.TextBounds.Y + 20)
    OutputScroller.CanvasSize = UDim2.new(0, 0, 0, OutputText.TextBounds.Y + 20)
end

function updateStatus(message, color)
    StatusText.Text = message
    StatusText.TextColor3 = color or Color3.fromRGB(0, 255, 0)
end

-- ==================== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –°–û–ë–´–¢–ò–ô ====================
ScanButton.MouseButton1Click:Connect(function()
    updateStatus("–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...", Color3.fromRGB(255, 255, 0))
    
    local success, result = pcall(function()
        return performScan()
    end)
    
    if success then
        updateStatus("–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!", Color3.fromRGB(0, 255, 0))
        updateDisplay()
    else
        updateStatus("–û—à–∏–±–∫–∞: " .. result, Color3.fromRGB(255, 50, 50))
    end
end)

CopyButton.MouseButton1Click:Connect(function()
    if ScannerData then
        local textToCopy = ""
        
        if CurrentTab == "üìä –û–±–∑–æ—Ä" then
            textToCopy = "–î–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã: " .. ScannerData.GameName .. "\n"
            textToCopy = textToCopy .. "RemoteEvents: " .. #ScannerData.Remotes.Events .. "\n"
            textToCopy = textToCopy .. "–®–∞—Ä–æ–≤ –Ω–∞–π–¥–µ–Ω–æ: " .. #ScannerData.Objects.Balls .. "\n"
        else
            textToCopy = OutputText.Text
        end
        
        setclipboard(textToCopy)
        updateStatus("–î–∞–Ω–Ω—ã–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –±—É—Ñ–µ—Ä!", Color3.fromRGB(0, 200, 255))
    else
        updateStatus("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è", Color3.fromRGB(255, 150, 0))
    end
end)

-- ==================== –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–ï ====================
if Config.AutoRefresh then
    spawn(function()
        while ScreenGui and ScreenGui.Parent do
            wait(Config.RefreshInterval)
            if Config.AutoRefresh then
                performScan()
                updateDisplay()
                updateStatus("–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: " .. os.date("%H:%M:%S"), Color3.fromRGB(150, 150, 255))
            end
        end
    end)
end

-- ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
updateDisplay()

print("========================================")
print("üîç ERAFOX SCANNER v2.0 –∑–∞–≥—Ä—É–∂–µ–Ω!")
print("üéØ –ò–≥—Ä–∞: " .. game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name)
print("üë§ –ò–≥—Ä–æ–∫: " .. LocalPlayer.Name)
print("========================================")
