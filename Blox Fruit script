--[[
    ‚öΩ RSS GK HUB ‚Äî FIXED AUTO DIVE
    –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
    ‚Ä¢ Auto Dive: pcall –≤–æ–∑–≤—Ä–∞—â–∞–ª boolean –≤–º–µ—Å—Ç–æ connections (–≥–ª–∞–≤–Ω—ã–π –±–∞–≥)
    ‚Ä¢ Auto Dive: –∫–Ω–æ–ø–∫–∏ —Ç–µ–ø–µ—Ä—å –∏—â—É—Ç—Å—è —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏
    ‚Ä¢ Auto Dive: —É–±—Ä–∞–Ω–∞ —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—è—á–∞
    ‚Ä¢ Reach: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π pcall –¥–ª—è firetouchinterest
]]

local Players           = game:GetService("Players")
local RunService        = game:GetService("RunService")
local Workspace         = game:GetService("Workspace")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer       = Players.LocalPlayer

-- ============================================================
-- –°–û–°–¢–û–Ø–ù–ò–ï
-- ============================================================

local HitboxSize     = Vector3.new(10, 10, 10)
local IsReachEnabled = false
local ReachConn      = nil
local RSSHitbox      = nil

local DiveConn       = nil
local DIVE_DIST      = 12
local DIVE_COOLDOWN  = 0.65
local lastDiveTime   = 0

local AutoPickEnabled   = false
local AutoPickInterval  = 0.35
local AutoPickPriority  = "Home First"
local AutoPickLoopTask  = nil
local lastPickAttempt   = 0
local PICK_COOLDOWN     = 0.35

-- ============================================================
-- –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï
-- ============================================================

local function GetRoot()
    return LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
end

local function FindBall()
    for _, name in ipairs({"ball", "TPS", "PSoccerBall"}) do
        local b = Workspace:FindFirstChild(name, true)
        if b and b:IsA("BasePart") then return b end
    end
    return nil
end

local function isInFansTeam()
    return LocalPlayer.Team == nil or LocalPlayer.Team.Name == "Fans"
end

local function GetTeamChangeRemote()
    local remotes = ReplicatedStorage:FindFirstChild("Remotes")
    if not remotes then return nil end
    return remotes:FindFirstChild("TeamChange")
end

local function TryJoinGK(option)
    if not option or option == "" then return false end
    if not isInFansTeam() then return true end

    local remote = GetTeamChangeRemote()
    if not remote then return false end

    local color = option == "Home GK" and BrickColor.new(23) or BrickColor.new(141)

    local ok = pcall(function()
        remote:FireServer(color, "Goalie")
    end)
    if not ok then return false end

    task.wait(0.2)
    return not isInFansTeam()
end

local function StopAutoPickGK()
    AutoPickEnabled = false
    if AutoPickLoopTask then
        task.cancel(AutoPickLoopTask)
        AutoPickLoopTask = nil
    end
end

local function StartAutoPickGK()
    StopAutoPickGK()
    AutoPickEnabled = true

    AutoPickLoopTask = task.spawn(function()
        while AutoPickEnabled do
            if not isInFansTeam() then
                StopAutoPickGK()
                break
            end

            local now = tick()
            if now - lastPickAttempt < PICK_COOLDOWN then
                task.wait(0.05)
                continue
            end
            lastPickAttempt = now

            local first, second
            if AutoPickPriority == "Away First" then
                first, second = "Away GK", "Home GK"
            else
                first, second = "Home GK", "Away GK"
            end

            if TryJoinGK(first) or TryJoinGK(second) then
                StopAutoPickGK()
                break
            end

            task.wait(math.max(0.05, AutoPickInterval))
        end
    end)
end

-- ============================================================
-- HITBOX / REACH
-- ============================================================

local function CreateHitbox()
    if RSSHitbox then RSSHitbox:Destroy() end
    RSSHitbox = Instance.new("BoxHandleAdornment")
    RSSHitbox.Name         = "RSSHitbox"
    RSSHitbox.AlwaysOnTop  = false
    RSSHitbox.ZIndex       = 10
    RSSHitbox.Color3       = Color3.fromRGB(0, 255, 100)
    RSSHitbox.Transparency = 1
    RSSHitbox.Size         = HitboxSize
    RSSHitbox.Adornee      = GetRoot()
    RSSHitbox.Parent       = Workspace.Terrain
end

local function UpdateHitbox(show)
    if not RSSHitbox then return end
    RSSHitbox.Size        = HitboxSize
    RSSHitbox.Adornee     = GetRoot()
    RSSHitbox.Transparency = (show and IsReachEnabled) and 0.4 or 1
end

local function ReachLoop()
    local root = GetRoot()
    if not root or not RSSHitbox then return end
    RSSHitbox.Adornee = root

    local ball = FindBall()
    if not ball then return end

    local reach = math.max(HitboxSize.X, HitboxSize.Y, HitboxSize.Z) / 2
    if (ball.Position - root.Position).Magnitude <= reach then
        for _, part in ipairs(LocalPlayer.Character:GetChildren()) do
            if part:IsA("BasePart") then
                pcall(firetouchinterest, part, ball, 0)
                task.wait()
                pcall(firetouchinterest, part, ball, 1)
            end
        end
    end
end

local function EnableReach()
    if ReachConn then return end
    IsReachEnabled = true
    if not RSSHitbox then CreateHitbox() end
    ReachConn = RunService.Heartbeat:Connect(ReachLoop)
end

local function DisableReach()
    if ReachConn then ReachConn:Disconnect(); ReachConn = nil end
    IsReachEnabled = false
    UpdateHitbox(false)
end

-- ============================================================
-- AUTO DIVE ‚Äî –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô
-- ============================================================

local function PredictBallPos(ball, dt)
    local vel     = ball.AssemblyLinearVelocity
    local pos     = ball.Position
    local gravity = Vector3.new(0, -196.2, 0)
    return pos + vel * dt + gravity * (dt * dt * 0.5)
end

-- –ò–°–ü–†–ê–í–õ–ï–ù–û: –∏—â–µ–º –∫–Ω–æ–ø–∫–∏ –ø–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–º –ø—É—Ç—è–º
local function GetDiveButtons()
    -- –ü—É—Ç—å 1: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π GUI
    local ok1, l1, r1 = pcall(function()
        local gui   = LocalPlayer:FindFirstChild("PlayerGui")
        local ctrl  = gui and gui:FindFirstChild("MobileCTRL")
        local frame = ctrl and ctrl:FindFirstChild("TouchControlFrame")
        local jump  = frame and frame:FindFirstChild("JumpButton")
        if not jump then return nil, nil end
        return jump:FindFirstChild("LeftDive"), jump:FindFirstChild("RightDive")
    end)
    if ok1 and l1 and r1 then return l1, r1 end

    -- –ü—É—Ç—å 2: –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º—É PlayerGui
    local ok2, l2, r2 = pcall(function()
        local gui = LocalPlayer:FindFirstChild("PlayerGui")
        if not gui then return nil, nil end
        local leftBtn, rightBtn
        for _, obj in ipairs(gui:GetDescendants()) do
            if obj.Name == "LeftDive"  then leftBtn  = obj end
            if obj.Name == "RightDive" then rightBtn = obj end
        end
        return leftBtn, rightBtn
    end)
    if ok2 and l2 and r2 then return l2, r2 end

    return nil, nil
end

-- –ò–°–ü–†–ê–í–õ–ï–ù–û: pcall(getconnections) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (ok, result) ‚Äî –Ω—É–∂–Ω–æ –±—Ä–∞—Ç—å –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç
local function FireButton(btn)
    if not btn then return end

    -- –ú–µ—Ç–æ–¥ 1: getconnections (exploit)
    local ok, conns = pcall(getconnections, btn.MouseButton1Click)
    if ok and conns and #conns > 0 then
        pcall(function() conns[1]:Fire() end)
        return
    end

    -- –ú–µ—Ç–æ–¥ 2: –ø—Ä—è–º–æ–π Fire()
    pcall(function() btn.MouseButton1Click:Fire() end)
end

local function StartAutoDive()
    if DiveConn then DiveConn:Disconnect(); DiveConn = nil end

    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local hrp  = char:WaitForChild("HumanoidRootPart")

    local leftBtn  = nil
    local rightBtn = nil

    -- –ò–°–ü–†–ê–í–õ–ï–ù–û: –∏—â–µ–º –∫–Ω–æ–ø–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏
    -- GUI –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–µ —Å—Ä–∞–∑—É ‚Äî –∂–¥—ë–º –¥–æ 15 —Å–µ–∫
    task.spawn(function()
        for attempt = 1, 15 do
            leftBtn, rightBtn = GetDiveButtons()
            if leftBtn and rightBtn then
                print("‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–∞–π–≤–∞ –Ω–∞–π–¥–µ–Ω—ã —Å –ø–æ–ø—ã—Ç–∫–∏ #" .. attempt)
                break
            end
            task.wait(1)
        end

        if not leftBtn or not rightBtn then
            warn("‚ùå –ö–Ω–æ–ø–∫–∏ –¥–∞–π–≤–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã!")
            warn("   –£–±–µ–¥–∏—Å—å —á—Ç–æ —Ç—ã –Ω–∞ –º–æ–±–∏–ª–µ –∏ –∏–≥—Ä–∞–µ—à—å –∫–∞–∫ GK")
        end
    end)

    DiveConn = RunService.Heartbeat:Connect(function()
        if not leftBtn or not rightBtn then return end

        local ball = FindBall()
        if not ball then return end

        local now  = tick()
        if now - lastDiveTime < DIVE_COOLDOWN then return end

        -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é
        local dist = (ball.Position - hrp.Position).Magnitude
        if dist > DIVE_DIST then return end

        -- –ò–°–ü–†–ê–í–õ–ï–ù–û: —É–±—Ä–∞–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ dot product
        -- –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –º—è—á –¥–≤–∏–∂–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä–æ
        local vel = ball.AssemblyLinearVelocity
        if vel.Magnitude < 4 then return end

        -- –ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º –∫—É–¥–∞ –ø–æ–ª–µ—Ç–∏—Ç –º—è—á —á–µ—Ä–µ–∑ 0.3 —Å–µ–∫
        local predicted = PredictBallPos(ball, 0.3)
        local localPred = hrp.CFrame:PointToObjectSpace(predicted)

        lastDiveTime = now

        -- –î–∞–π–≤–∏–º –≤ –Ω—É–∂–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É
        if localPred.X < 0 then
            FireButton(leftBtn)
            print("‚óÄ –î–∞–π–≤ –≤–ª–µ–≤–æ")
        else
            FireButton(rightBtn)
            print("‚ñ∂ –î–∞–π–≤ –≤–ø—Ä–∞–≤–æ")
        end
    end)

    print("‚úÖ Auto Dive –í–ö–õ–Æ–ß–Å–ù | –†–∞–¥–∏—É—Å: " .. DIVE_DIST .. " | –û–∂–∏–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏...")
end

local function StopAutoDive()
    if DiveConn then DiveConn:Disconnect(); DiveConn = nil end
    print("Auto Dive –û–¢–ö–õ–Æ–ß–Å–ù")
end

-- ============================================================
-- BALL PREDICTOR
-- ============================================================

local predConn    = nil
local curveFolder = nil

local function StartPredictor()
    local cfg = {
        gravity       = 196.2,
        bounceDamping = 0.68,
        groundHeight  = 0,
        airResistance = 0.99,
        friction      = 0.85,
        segmentCount  = 20,
        segmentTrans  = 0.25,
        maxTime       = 8,
        dt            = 0.04,
        minSpeed      = 3,
        updateEvery   = 3,
        colorCurve    = Color3.fromRGB(0, 220, 255),
        colorLand     = Color3.fromRGB(255, 220, 0),
    }

    if curveFolder then curveFolder:Destroy() end
    curveFolder        = Instance.new("Folder")
    curveFolder.Name   = "GK_Predictor"
    curveFolder.Parent = Workspace

    local segs = {}
    for i = 1, cfg.segmentCount do
        local s = Instance.new("Part")
        s.Anchored    = true; s.CanCollide  = false; s.CastShadow = false
        s.Material    = Enum.Material.Neon
        s.Color       = cfg.colorCurve
        s.Transparency = 1
        s.Size        = Vector3.new(0.25, 0.25, 1)
        s.Parent      = curveFolder
        segs[i] = s
    end

    local marker = Instance.new("Part")
    marker.Anchored    = true; marker.CanCollide = false; marker.CastShadow = false
    marker.Material    = Enum.Material.Neon
    marker.Color       = cfg.colorLand
    marker.Transparency = 1
    marker.Size        = Vector3.new(5, 0.15, 5)
    marker.Shape       = Enum.PartType.Cylinder
    marker.Parent      = curveFolder

    local function Simulate(startPos, startVel)
        local pts = {}
        local pos = startPos
        local vel = startVel
        local gdt = Vector3.new(0, -cfg.gravity * cfg.dt, 0)
        local bounces = 0
        for _ = 1, math.floor(cfg.maxTime / cfg.dt) do
            vel = (vel + gdt) * (cfg.airResistance)
            pos = pos + vel * cfg.dt
            table.insert(pts, pos)
            if pos.Y <= cfg.groundHeight and vel.Y < 0 then
                pos = Vector3.new(pos.X, cfg.groundHeight, pos.Z)
                vel = Vector3.new(vel.X * cfg.friction, -vel.Y * cfg.bounceDamping, vel.Z * cfg.friction)
                bounces += 1
                if bounces >= 3 or vel.Magnitude < 2 then break end
            end
        end
        return pts
    end

    local frame = 0
    predConn = RunService.Heartbeat:Connect(function()
        frame += 1
        if frame % cfg.updateEvery ~= 0 then return end

        local ball = FindBall()
        if not ball or ball.AssemblyLinearVelocity.Magnitude < cfg.minSpeed then
            for _, s in ipairs(segs) do s.Transparency = 1 end
            marker.Transparency = 1
            return
        end

        local pts = Simulate(ball.Position, ball.AssemblyLinearVelocity)
        local n   = #pts
        if n < 2 then return end

        local step = (n - 1) / cfg.segmentCount
        for i = 1, cfg.segmentCount do
            local idx  = math.floor((i - 1) * step) + 1
            local idx2 = math.min(idx + 1, n)
            local p1, p2 = pts[idx], pts[idx2]
            local dist = (p2 - p1).Magnitude
            if dist > 0.01 then
                segs[i].Size        = Vector3.new(0.25, 0.25, dist)
                segs[i].CFrame      = CFrame.lookAt((p1 + p2) * 0.5, p2)
                segs[i].Transparency = cfg.segmentTrans
            else
                segs[i].Transparency = 1
            end
        end

        local landPos = nil
        for i = 2, n do
            if pts[i].Y <= cfg.groundHeight + 0.3 and pts[i-1].Y > cfg.groundHeight + 0.3 then
                local t = math.clamp((cfg.groundHeight - pts[i-1].Y) / (pts[i].Y - pts[i-1].Y), 0, 1)
                landPos = pts[i-1]:Lerp(pts[i], t)
                break
            end
        end

        if landPos then
            local pulse = 5 + math.sin(tick() * 4) * 1.5
            marker.Size        = Vector3.new(pulse, 0.15, pulse)
            marker.CFrame      = CFrame.new(landPos + Vector3.new(0, 0.1, 0)) * CFrame.Angles(0, 0, math.pi / 2)
            marker.Transparency = 0.35
        else
            marker.Transparency = 1
        end
    end)
end

local function StopPredictor()
    if predConn    then predConn:Disconnect(); predConn = nil end
    if curveFolder then curveFolder:Destroy(); curveFolder = nil end
end

-- ============================================================
-- WindUI
-- ============================================================

local WindUI = loadstring(game:HttpGet(
    "https://raw.githubusercontent.com/Footagesus/WindUI/refs/heads/main/dist/main.lua"
))()

local Window = WindUI:CreateWindow({
    Title  = "RSS ‚Äî GK Hub",
    Icon   = "shield",
    Author = "Fixed Auto Dive",
    Folder = "RSS_GK",
})

-- ============================================================
-- –í–ö–õ–ê–î–ö–ê: REACH
-- ============================================================

local ReachTab = Window:Tab({ Title = "Reach & Hitbox", Icon = "maximize" })
local ReachSection = ReachTab:Section({ Title = "–•–∏—Ç–±–æ–∫—Å –≤—Ä–∞—Ç–∞—Ä—è" })

ReachSection:Toggle({
    Title = "Enable Reach", Desc = "–†–∞—Å—à–∏—Ä—è–µ—Ç –∑–æ–Ω—É –∫–∞—Å–∞–Ω–∏—è –º—è—á–∞",
    Default = false,
    Callback = function(v) if v then EnableReach() else DisableReach() end end
})

ReachSection:Toggle({
    Title = "Show Hitbox", Default = false,
    Callback = function(v) UpdateHitbox(v) end
})

ReachTab:Space()
local SizeSection = ReachTab:Section({ Title = "–†–∞–∑–º–µ—Ä —Ö–∏—Ç–±–æ–∫—Å–∞" })

SizeSection:Slider({
    Title = "Size X", Step = 1, Value = { Min = 1, Max = 60, Default = 10 },
    Callback = function(v) HitboxSize = Vector3.new(v, HitboxSize.Y, HitboxSize.Z); UpdateHitbox(IsReachEnabled) end
})
SizeSection:Slider({
    Title = "Size Y", Step = 1, Value = { Min = 1, Max = 60, Default = 10 },
    Callback = function(v) HitboxSize = Vector3.new(HitboxSize.X, v, HitboxSize.Z); UpdateHitbox(IsReachEnabled) end
})
SizeSection:Slider({
    Title = "Size Z", Step = 1, Value = { Min = 1, Max = 60, Default = 10 },
    Callback = function(v) HitboxSize = Vector3.new(HitboxSize.X, HitboxSize.Y, v); UpdateHitbox(IsReachEnabled) end
})

-- ============================================================
-- –í–ö–õ–ê–î–ö–ê: GK FEATURES
-- ============================================================

local GkTab = Window:Tab({ Title = "GK Features", Icon = "shield-check" })
local PickSection = GkTab:Section({ Title = "–í—ã–±–æ—Ä –ø–æ–∑–∏—Ü–∏–∏" })

PickSection:Dropdown({
    Title = "–í—Å—Ç–∞—Ç—å –≤—Ä–∞—Ç–∞—Ä—ë–º", Desc = "–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–≥–¥–∞ –Ω–µ—Ç –≤—Ä–∞—Ç–∞—Ä—è –≤ –∫–æ–º–∞–Ω–¥–µ",
    Values = { "Home GK", "Away GK" }, Value = nil, Multi = false, AllowNone = true,
    Callback = function(option)
        if not option or option == "" then return end
        if not isInFansTeam() then
            WindUI:Notify({ Title = "–û—à–∏–±–∫–∞", Icon = "ban", Content = "–°–Ω–∞—á–∞–ª–∞ –≤—ã–π–¥–∏ –∏–∑ –∫–æ–º–∞–Ω–¥—ã!", Duration = 4 })
            return
        end
        local color = option == "Home GK" and BrickColor.new(23) or BrickColor.new(141)
        pcall(function()
            ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("TeamChange"):FireServer(color, "Goalie")
        end)
        WindUI:Notify({ Title = "‚úÖ –ì–æ—Ç–æ–≤–æ", Icon = "check", Content = "–ü–æ–∑–∏—Ü–∏—è: " .. option, Duration = 3 })
    end
})

PickSection:Dropdown({
    Title = "Auto Pick Priority",
    Values = { "Home First", "Away First" }, Value = "Home First", Multi = false, AllowNone = false,
    Callback = function(v)
        if not v or v == "" then return end
        AutoPickPriority = v
    end
})

PickSection:Slider({
    Title = "Auto Pick Interval (sec)",
    Step = 0.05, Value = { Min = 0.10, Max = 2, Default = 0.35 },
    Callback = function(v) AutoPickInterval = v end
})

PickSection:Toggle({
    Title = "Auto Pick GK",
    Desc = "–ü–æ–∫–∞ —Ç—ã –≤ Fans: –±—ã—Å—Ç—Ä–æ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–Ω—è—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ GK (Home/Away) –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É",
    Default = false,
    Callback = function(v)
        if v then
            if not isInFansTeam() then
                WindUI:Notify({ Title = "–û—à–∏–±–∫–∞", Icon = "ban", Content = "–°–Ω–∞—á–∞–ª–∞ –≤—ã–π–¥–∏ –∏–∑ –∫–æ–º–∞–Ω–¥—ã!", Duration = 4 })
                return
            end
            StartAutoPickGK()
        else
            StopAutoPickGK()
        end
    end
})

GkTab:Space()
local DiveSection = GkTab:Section({ Title = "Auto Dive (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω)" })

DiveSection:Slider({
    Title = "–†–∞–¥–∏—É—Å –¥–∞–π–≤–∞ (studs)", Desc = "–ù–∞ –∫–∞–∫–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –ø—Ä—ã–≥–∞—Ç—å",
    Step = 0.5, Value = { Min = 5, Max = 25, Default = 12 },
    Callback = function(v) DIVE_DIST = v end
})

DiveSection:Slider({
    Title = "–ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –¥–∞–π–≤–∞–º–∏ (—Å–µ–∫)",
    Step = 0.05, Value = { Min = 0.3, Max = 2, Default = 0.65 },
    Callback = function(v) DIVE_COOLDOWN = v end
})

DiveSection:Toggle({
    Title = "Auto Dive",
    Desc  = "–£–º–Ω—ã–π –¥–∞–π–≤ —Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ–º. –°–º–æ—Ç—Ä–∏ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ –∫–Ω–æ–ø–æ–∫.",
    Default = false,
    Callback = function(v)
        if v then StartAutoDive() else StopAutoDive() end
    end
})

-- ============================================================
-- –í–ö–õ–ê–î–ö–ê: BALL PREDICTOR
-- ============================================================

local PredTab = Window:Tab({ Title = "Ball Predictor", Icon = "activity" })
local PredSection = PredTab:Section({ Title = "–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏" })

PredSection:Toggle({
    Title = "Enable Predictor", Desc = "–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—É–¥–∞ –ø–æ–ª–µ—Ç–∏—Ç –º—è—á",
    Default = false,
    Callback = function(v) if v then StartPredictor() else StopPredictor() end end
})

-- ============================================================
-- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
-- ============================================================

CreateHitbox()
UpdateHitbox(false)

LocalPlayer.CharacterAdded:Connect(function()
    task.wait(1.5)
    CreateHitbox()
    UpdateHitbox(IsReachEnabled)
    if DiveConn then
        StopAutoDive()
        task.wait(0.5)
        StartAutoDive()
    end
    if AutoPickEnabled then
        StopAutoPickGK()
        task.wait(0.2)
        StartAutoPickGK()
    end
end)

WindUI:Notify({
    Title = "‚úÖ RSS GK Hub", Icon = "shield",
    Content = "–ó–∞–≥—Ä—É–∂–µ–Ω! Auto Dive –∏—Å–ø—Ä–∞–≤–ª–µ–Ω.", Duration = 4,
})

print("‚öΩ RSS GK Hub (Fixed) –∑–∞–≥—Ä—É–∂–µ–Ω!")
print("üí° –í–∫–ª—é—á–∏ Auto Dive –∏ —Å–º–æ—Ç—Ä–∏ –∫–æ–Ω—Å–æ–ª—å ‚Äî —Ç–∞–º –±—É–¥–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–∏—Å–∫–∞ –∫–Ω–æ–ø–æ–∫")
